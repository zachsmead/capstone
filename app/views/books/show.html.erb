<head>
    <title>Word Cloud</title>
    <script src="<%= @book.book_cloud_url %>"></script>
    <!-- <script src="https://s3-us-west-1.amazonaws.com/projectgutenbergtest/book_clouds/pride_and_prejudice.js"></script> -->
  </head>
  <body style="text-align: center">
    <h1>Word Cloud</h1>

    <div class="example_div"></div>
    <script type="text/javascript">
      var tooltip = d3.select("body")
        .append("div")
        .style("position", "absolute")
        .style("z-index", "10")
        .style("visibility", "hidden")
        .text("a simple tooltip");
        
      var sampleSVG = d3.select(".example_div")
        .append("svg:svg")
        .attr("class", "sample")
        .attr("width", 300)
        .attr("height", 300);    
        
      d3.select(".example_div svg")
        .append("svg:circle")
        .attr("stroke", "black")
        .attr("fill", "aliceblue")
        .attr("r", 50)
        .attr("cx", 52)
        .attr("cy", 52)
        .on("mouseover", function(){return tooltip.style("visibility", "visible");})
        .on("mousemove", function(){return tooltip.style("top", (event.pageY-10)+"px").style("left",(event.pageX+10)+"px");})
        .on("mouseout", function(){return tooltip.style("visibility", "hidden");});
    </script>


    
    <script>// make a wordcloud id in css</script>
    <div id='wordcloud'></div>

    <p><a href="https://github.com/wvengen/d3-wordcloud">https://github.com/wvengen/d3-wordcloud</a></p>
    <script>
      d3.wordcloud()
        .size([1270, 400])
        .spiral('archimedean')
        .scale('sqrt')
        .font('times')
        .fill(d3.scale.ordinal().range(["#0d0144", "#1a0a63", "#35228e", "#513cb2", "#7d69db"]))
        .words(words)
        .onwordclick(function(d, i) {
          d3.tip().show();
        })
        .start();
    </script>
  </body>